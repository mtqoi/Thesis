\chapter{Introduction to quantum cryptography}\label{chapter:crypto_intro}

\section{Conventional (classical) cryptography}

Cryptography is a field probably as old as civilization itself. For as long as communication has existed, so too has the desire to keep information hidden. Both the Greeks and the Romans are known to have used ciphers to encrypt messages \cite{Singh2000}. A cipher, after applied to a message, allows the encrypted message to be freely transmitted and intercepted without an adverse party interpreting its meaning. The intended recipients, however, can undo the effects of the cipher and read the original message. 

One famous example is the Caesar cipher. In the Caesar cipher, each element of the alphabet which makes up the message (``plain'') is assigned a new symbol (``cipher''). Typically this is done by shifting the alphabet by a known quantity, Fig.~\ref{fig:caesar}. The plaintext message is encoded with the cipher, replacing letters from the plain with letters fromt he cipher. This encoded message is known as ``ciphertext'' and now may be freely distributed. At face value, the ciphertext is unreadable to anyone without access to the cipher.

\begin{figure}[htp]
\centering
\captionsetup{width=\linewidth}
\begin{framed}
\begin{align*}
\text{Plain:} &\text{  \code{ABCDEFGHIJKLMNOPQRSTUVWXYZ}} \\
\text{Cipher:} &\text{  \code{FGHIJKLMNOPQRSTUVWXYZABCDE}} \\
\text{Plaintext:} &\text{  I like physics} \\
\text{Ciphertext:} &\text{  N qnpj umdxnhx}
\end{align*}
\end{framed}
\caption{\label{fig:caesar} The cipher alphabet is formed of the plain alphabet shifted $5$ elements to the left. Knowledge of the cipher allows the plaintext message to be recovered.}
\end{figure} %TODO: change this to Hello to Jason Isaacs, or similar.
%TODO: put Hello to Jason, or similar, in my acknowledgements. It'll be banter.


Cryptanalysis -- the art and science of breaking cryptographic systems -- has existed for as long as cryptography, and history of cryptographic development can be viewed as an arms-race between cryptographers and cryptanalysts. The cryptographers, which we canonically call Alice and Bob, continually invent new schemes to perform their secure communication task. The cryptanalyst, which we canonically call Eve, continually tries to break these schemes in order to interfere in Alice and Bob's communication and obtain their messages. For example, the Caesar cipher can be broken by trying all possible shifts of the alphabet and checking which give a sensible message at the output. Against a more general cipher, Eve can perform a statistical analysis on the ciphertext, provided that she knows the language of the message. In English, for example, Eve knows that ``e'' is the most frequently occurring letter, and so the most common letter in the ciphertext is likely to decode to ``e''.

Many advances on the Ceasar cipher have been developed, in which a key (a shared secret piece of information) is used to encrypt and then decrypt a message. While many schemes are secure against decryption, they meet significant practical issues to actually distribute the key. Indeed, the key distribution problem was one of the longstanding and difficult problems which cryptographers have faced over the millenia. Should the shared keys fall into enemy hands, secret messages may be freely decrypted and their sensitive information made public. 

One practical method to distribute keys requires Alice and Bob to meet face-to-face, in advance of their communication, to share the keys which they will use for the next round of communication. While secure, this is impractical. A third party courier could be used as a go-between, but this places an assumption about the trustworthiness of the messenger, and requires an unweildly overhead for large-scale communications. In the second half of the $20^\text{th}$ Century, the following critical question became the focus of intense study of a small group of cryptographers: ``How can Alice and Bob share a secret key, without ever meeting each other?'' 

To solve this problem, Diffie and Hellman \cite{Diffie1976} required a fundamental paradigm shift to the structure of conventional encryption. Normally, as with the Caesar cipher, Fig.~\ref{fig:caesar}, the same key is used to encrypt and to decrypt the message, Fig.~\ref{fig:pubpriv} (a), a structure known as ``private-key (symmetric) cryptography''. We have seen that sharing this key becomes a weak link in the encryption protocol. Diffie and Hellman realised that it is possible to share the key without Alice and Bob ever meeting\footnote{Of course, at the beginning of the protocol Alice and Bob must be sure that they are actually talking to each other \cite{Shneier1996}.} face-to-face. The central idea behind the new ``public-key (asymmetric) cryptography'' was the existence of so-called \emph{one way} functions, which are easy to perform but difficult to invert. 

Diffie and Hellman's proposal runs as follows. At the start of communication, Alice and Bob publicly agree on a function $Y^x \text{ modulo } P$, with $Y < P$. The $Y$ and $P$ are assumed to be public knowledge. For example, they may choose the function $f\left(x\right) 13^x \text{ modulo } 19$. Now, Alice and Bob each choose a number, labelled $A, B$, and keep it secret, e.g. $A = 2$ and $B = 4$. Each number is fed into $f$: $\alpha :=f\left(A\right) = 17$ and $\beta := f\left(B\right) = 4$. The outputs $\alpha, \beta$ are shared between Alice and Bob; crucially, although calculating $\alpha, \beta$ was simple, it is tricky to find $A$ and $B$ from this public information. Finally, Alice calculates $\beta^A \text{ modulo } 19 = 16$ and Bob calculates $\alpha^B \text{ modulo } 19 = 16$: Alice and Bob reach the same number, $16$, which can then be used as the encryption key. This discovery allows Alice and Bob to establish a key entirely over public and insecure communication channels. 



\begin{figure}[htp]
\centering
\captionsetup{width=\linewidth}
\begin{framed}
\begin{subfigure}{0.4\textwidth}
\begin{align*}
m \mapsto \text{Encrypt}_\mathcal{K}\left(m\right) \\
\text{Decrypt}_\mathcal{K}\left[E_\mathcal{K}\left(m\right)\right] \mapsto m
\end{align*}
\caption{}
\end{subfigure}
\begin{subfigure}{0.4\textwidth}
\begin{align*}
m \mapsto \text{Encrypt}_\mathcal{E}\left(m\right) \\
\text{Decrypt}_\mathcal{D}\left[\text{Encrypt}_\mathcal{E}\left(m\right)\right] \mapsto m
\end{align*}
\caption{}
\end{subfigure}
\caption{(a) Private-key encryption. The same key $\mathcal{K}$ allows Alice to encrypt and Bob to decrypt message $m$. (b) Public-key encryption. Alice and Bob use different keys, $\mathcal{E}$ and $\mathcal{D}$ to encrypt and decrypt $m$. The key $\mathcal{E}$ can be public knowledge without affecting the security of the key $\mathcal{D}$.}
\label{fig:pubpriv}
\end{framed}
\end{figure}


Security of this key exchange system relies on the fact that $A$ and $B$ are kept secret, and it is the distinctions and relationships between public and private information which underpin public key cryptography. The function $f$ is sometimes referred to as a ``trapdoor'' or ``one-way'' function, and is typically based on a mathematical problem which is deemed to be computationally hard: that is, even the most powerful computers cannot hope to solve it in a feasible amount of time. Typically the time taken to solve scales exponentially in the size of the key. Perhaps the most well-known hard problem is that of factoring a large integer into primes, which underlies the commonly used RSA protocol \cite{Rivest1978, Schneier1996}.


This type of security, relying on assumptions about computing power, is known as \emph{computational} security. In principle these cryptosystems could be broken with a sufficiently powerful computer, or with algorithmic advances. It has been shown, however, that while these problems are hard for a classical computer, there exist algorithms for a future quantum computer which can break them. The most well known of these is Shor's algorithm \cite{Shor1997},  which provides an exponential speedup in the ability to split an integer into its prime factors. %nstead of taking an exponential number of steps in the length of the integer, the quantum computer will take a number of steps which is only polynomial in integer length. 
The existence of such algorithms which successfully solve the hard problems poses a threat to many commonly used cryptosystems %such as RSA, DSA and ECDHE 
\cite{Rivest1978, Schneier1996, Amiri2015, Nielsen2010, Shor1997}. One must therefore carefully consider how to respond to this threat posed by quantum computers. 

One solution will be to switch the underlying hard problem to a different class of problems, which even a quantum computer cannot solve. This is the approach adopted by the Post-Quantum Cryptography (PQC) community, whose aim is to design protocols based on problems for which no good quantum algorithm is yet known \cite{Bernstein2017, Chen2016, Gagliardoni2017a, Bernstein2009, Alagic2019, Chrome2016}. However, it is still an open question which problems a quantum computer can hope to solve%\footnote{It is even not yet known whether they can solve a larger class of problems than a classical computer}
, and so a premature implementation of a secure system based on a PQC hard-problem, may still be threatened by a quantum computer as new algorithms are developed. 

%In any case, it is clear that the currently implemented cryptographic systems must either be strengthened or replaced, and this may prove challenging. We will briefly discuss some of the challenges, and a possible solution which has gained traction among the conventional cryptography community in recent years, in Chapter~\ref{chapter:aqc}

The second solution to the threat posed by quantum computers is to begin to adopt cryptosystems which are provably secure against a quantum computer. There exist classical protocols for which this is possible \cite{Shamir1979, Blakley1979}, and we will discuss some of them in Sec.~\ref{sec:qss_lit_review}. However for many applications classical cryptography does not allow for such provably secure systems without an initial face-to-face interaction\footnote{To facilitate, for example, the sharing of large, random, secure keys.}, and so one must move to the quantum realm.

Quantum cryptography bases its security not on the assumption of a mathematical problem's difficulty, but on physical laws. Instead of aiming for computational security (albeit security against a quantum computer), quantum cryptography aims to build the stronger \emph{unconditionally secure} (or \emph{information-theoretically secure}) protocols, which cannot be broken even in principle. By basing security on physical laws quantum cryptography requires the sharing of physical systems between players, and we shall see in the remainder of this Thesis that quantum light is a natural object with which to perform such cryptographic tasks. 

One may think of the advantage provided by quantum cryptography in terms of the one-way functions discussed earlier, Fig.~\ref{fig:qutrapdoor}. While the classical one-way functions are only computationally hard, the quantum analogue of the one-way function is provably impossible to invert. For example, if the unknown quantum states are chosen to be non-orthogonal then it is impossible to perfectly determine the classical information which they encode \cite{Nielsen2010, brendon_book}. Any malevolent party attempting to gain information will not do so perfectly, and will thus leave a detectable trace.

\begin{figure}[h!]
\centering
\captionsetup{width=\linewidth}
\begin{framed}
\begin{subfigure}{0.49\linewidth}
\begin{align*}
x_i &\mapsto f\left(x_i\right) \qq{easy} \\
f\left(x_i\right) &\mapsto x_i \qq{hard}
\end{align*}
\caption{}
\end{subfigure}
\begin{subfigure}{0.49\linewidth}
\begin{align*}
x_i &\mapsto \ket{x_i} \qq{easy}\\
\ket{x_i} &\mapsto x_i \qq{impossible}
\end{align*}
\caption{}
\end{subfigure}
\caption{(a) A classical one-way function $f$ is easy to perform but computationally difficult to invert. $f$ is typically based on a hard problem. (b) A quantum one-way function. If the quantum states $\ket{x_i}$ are chosen to be non-orthogonal then it is impossible to perfectly determine the classical information $x$, given a quantum state $\ket{x}$. This forms the basis for quantum cryptosystems, whose security is guaranteed by the no-cloning theorem \cite{Nielsen2010, brendon_book}}
\label{fig:qutrapdoor}
\end{framed}
\end{figure}

%\clearpage
\input{chapters/qds_lit_review}



\input{chapters/qss_lit_review}


