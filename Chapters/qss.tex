\chapter{Quantum secret sharing}
Goal of chapter: introduce our QSS protocol and prove its security in different contexts.

Key results which I want to present:
\begin{itemize}
\item our QSS protocol
\item security proof (what does it do? what does it not do?)
\item analysis of security in various settings - heterodyne, $\mathcal{A}_4$, BS0, BS1, BS2, EC, varying $\alpha$, $T$, $\xi$, $g$, $h$ of both channels
\item show how the protocol performs
\end{itemize}

\MT{Short introduction to chapter. It can function a bit like an abstract}

%\input{chapters/qss_lit_review}
% ah, I forgot, the lit review should go in the lit review chapter

\section{Our QSS protocol}

Our quantum secret-sharing scheme allows for a dealer, Alice, to distribute a classical secret between two recipients, Bob and Charlie. Bob and Charlie should be able to exactly reconstruct the secret when they behave honestly, while a dishonest and unauthorised conspiracy of players--including those outside the protocol--should gain no information. Crucially, the scheme should allow for dishonesty among the recipients, but a dishonest player should be forced to collaborate with an honest one.

We propose a QSS protocol which will perform the task of quantum secret sharing without requiring the distribution of highly entangled states between players (in contrast to Ref.~\cite{Kogias2017}) and without requiring a dedicated hardware or network setup (in contrast to Ref.~\MT{cite}). Instead, we rely on the QPSK alphabet \MT{cite} and heterodyne detection \MT{cite} 
\MT{make sure that this description mirrors what I have put in the QDS chapter}

\MT{I don't want to say too much about compatibility with the QDS protocol or QKD here, since this should wait until the agility chapter}

In our protocol, Bob and Charlie are chosen as the senders of the quantum states. This has the advantage of \MT{something}, and allows us to fully trust Alice's heterodyne detection. We note that allowing Bob or Charlie to perform heterodyne detection places implicit trust in their heterodyning beamsplitter \MT{cite 1sDI paper}. Instead, in our configuration we may trust and characterise Alice's device, and exploit the fact that \emph{at least one} recipient is honest, even though Alice does not know which recipient it is.

\begin{figure}[htp]
\centering
\includegraphics{qss_setup.png}
\caption{\label{fig:qss_setup}}
\end{figure}

Since Alice is the dealer who will decide on the eventual shared key our protocol is analogous to a reverse-reconciliation (RR) QKD system, and so we may similarly expect the performance benefits of RR QKD at high loss and noise. We note that having potentially untrusted players as the senders may open the protocol up to new classes of attack, e.g. if they are permitted to send a state which is outside the QPSK alphabet, and such attacks should be addressed in future work.

\MT{talk somewhere about the types of attack we allow}

%OOur QSS protocol runs as follows.
Our QSS protocol runs in three stages, a Distribution stage, an Encryption stage and, finally, a Decryption stage. The Distribution stage involves distribution and measurement of quantum coherent states chosen from QPSK alphabet. At the end of Distribution Alice will hold classical information which is correlated with Bob and Charlie. In the Encryption stage, Alice will combine her classical information and use it to encode her sensitive classical secret. The encoded secret is distributed to Bob and Charlie. The secret is decoded by Bob and Charlie during Decryption. Our protocol setup is described in Fig.~\ref{fig:qss_setup}, and we describe it in detail below.

\MT{make sure that the following is in the same style as my qds protocol description}

\subsubsection*{Distribution stage}
\noindent \underline{Step $1$.} Alice wishes to encrypt a classical secret, $\sigma$. Bob forms a classical sequence $X_B = \left\{x_B^j\right\}_j$ where the $x_B^j$ are complex phases independently chosen from $\mathcal{A}_4$. The $x_B^j$ are assumed to be chosen uniformly at random, but we relax this assumption slightly in Ch.~\MT{X}. Charlie likewise forms $X_C$.

\noindent \underline{Step $2$.} Bob and Charlie form sequences of coherent states
\begin{equation}
\rho\left[X_{\left(B, C\right)}\right] := \otimes_j \rho\left[x_{\left(B, C\right)}^j\right]
\end{equation}
where $\rho\left[x_{\left(B, C\right)^j}\right]$ denotes a coherent state with phase $x_{\left(B, C\right)}^j$. These sequences of states are sent to Alice through quantum channels. \MT{Talk later about the types of channels which these are.}. Alice performs heterodyne detection on each of her received states and records her complex outcomes. We denote strings of Alice's measurement outcomes as $A_B, A_C \in \mathbb{C}$, where the subscript denotes which player sent the corresponding quantum state. The $A_B$ and $A_C$ are kept separate at this stage, and Bob and Charlie should retain their information $X_{\left(B, C\right)}$.

\subsubsection*{Encryption stage}

\noindent \underline{Step $3$.} Alice creates a new complex variable
\begin{equation}
X_A = F\left(A_B, A_C\right)
\end{equation}
from her measurement outcomes. The function $F$ is chosen by Alice and should be freely chosen to optimize security. \MT{Where shall I talk about function $F$?} \MT{I can create some nice graphs of different functions $F$, even those requiring a lot of parameters to be optimized over. But when it comes to actually analysing security I should pick simple ones.} 

\noindent \underline{Step $4$.} Alice now holds string $X_A$ which depends on both Bob and Charlie's choices of states to send. She then uses $X_A$ to encode $\sigma$
\begin{equation}
\tilde{\sigma} = \text{Enc}\left(\sigma, X_A\right)
\end{equation}
\MT{Talk briefly about how this might be done, e.g. with reference to QKD}
and distributes $\tilde{\sigma}$ to Bob and Charlie. Because Bob and Charlie do not have $X_A$ they cannot gain $\sigma$.

\subsubsection*{Decryption stage}

\noindent \underline{Step $5$.} Later, when Alice desires to allow Bob and Charlie access to $\sigma$, she broadcasts which function $F$ she used, along with enough classical information to perform a reconciliation procedure between $X_A$ and $F\left(X_B, X_C\right)$. This stage is similar to regular CV QKD. Bob and Charlie, by working together to form and reconcile $F\left(X_B, X_C\right)$ gain a copy of Alice's key, and are now able to access her secret $\sigma$.

Critical to the protocol is the fact that Alice forms a secret key based on a degree of freedom which is shared between Bob and Charlie. This forces them to collaborate. If one of Bob or Charlie is dishonest, they are forced to work with an honest player and so the scheme as succeeded.



\MT{some more remarks about the running of the protocol}


\subsection{Security against Eve}
\MT{talk here about security against an external eavesdropper.}


